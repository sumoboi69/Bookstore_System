{% extends "layout.html" %}

{% block content %}
<div class="container py-5">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item"><a href="#">{{ book.category }}</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{ book.title }}</li>
        </ol>
    </nav>

    <div class="row gx-5">
        <aside class="col-lg-5 mb-4">
            <div class="card shadow-sm border-0">
                <div class="bg-light d-flex align-items-center justify-content-center p-5 rounded">
                    <i class="fas fa-book fa-10x text-secondary opacity-25"></i>
                </div>
            </div>
        </aside>

        <main class="col-lg-7">
            <div class="ps-lg-3">
                <h2 class="title text-dark fw-bold mb-2">{{ book.title }}</h2>
                <p class="text-muted mb-3">By <span class="text-primary">{{ book.author }}</span> ({{ book.year }})</p>

                <div class="mb-3">
                    <span class="h4 text-primary fw-bold me-2">${{ book.price }}</span>
                    {% if book.stock > 0 %}
                    <span class="badge bg-success bg-opacity-10 text-success">In Stock ({{ book.stock }} copies)</span>
                    {% else %}
                    <span class="badge bg-danger bg-opacity-10 text-danger">Out of Stock</span>
                    {% endif %}
                </div>

                <p class="mb-4 text-secondary">
                    Published by <strong>{{ book.publisher }}</strong>. <br>
                    ISBN: <span class="font-monospace">{{ book.isbn }}</span>
                </p>

                <hr>

                <div class="row mb-4">
                    <div class="col-md-4 col-6">
                        <label class="mb-2 d-block">Quantity</label>
                        <select class="form-select" style="width: 100px;">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                        </select>
                    </div>
                </div>

                <form action="/add_to_cart" method="POST">
                    <input type="hidden" name="isbn" value="{{ book.isbn }}">
                    <button type="submit" class="btn btn-primary btn-lg px-5 shadow-sm" {% if book.stock == 0 %}disabled{% endif %}>
                        <i class="fas fa-cart-plus me-2"></i> Add to Cart
                    </button>
                    <button type="button" class="btn btn-outline-secondary btn-lg ms-2">
                        <i class="fas fa-heart"></i>
                    </button>
                </form>
            </div>
        </main>
    </div>
</div>
{% endblock %}